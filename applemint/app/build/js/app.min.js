"use strict";function MainCtrl(l,o){function t(){a.works.length&&(console.log(a.allWorks),a.cats=e(),console.log(a.cats))}function e(){var l={};return l.all={numb:0,title:"Все работы",name:"all"},a.allWorks.forEach(function(o,t){l.all.numb++,console.log(o.category);var e=o.category;console.log(l.hasOwnProperty(e)),l.hasOwnProperty(e)?l[e].numb++:(l[e]={},l[e].numb=1,l[e].title=o.catTitle,l[e].name=o.category)}),l}var a=this;a.allWorks=[],a.works=[],a.cats={},a.testMsg="hello",a.activeCat="all",a.allVisible=!1,a.blocks=[],o.getAllItems().then(function(l){a.allWorks=l,a.works=a.allWorks,t()}),a.changeCat=function(l){a.activeCat=l,"all"==l?a.works=a.allWorks:a.works=a.allWorks.filter(function(o,t){return o.category==l}),a.allVisible=!1,console.log(a.works)},a.showAll=function(){a.allVisible=!0;var l=Math.ceil((a.works.length-7)/4);console.log(l),a.blocks=[];for(var o=0;o<l;o++)a.blocks.push(o+1);console.log(l),console.log(a.blocks),console.log(a.blocks.length)}}function DataService(l,o){var t={items:[]};return t.getAllItems=function(){var e=o.defer();return l.get("app/assets/data/works.json").then(function(l){t.items=l.data,e.resolve(t.items)}),e.promise},t}MainCtrl.$inject=["$scope","DataService"],DataService.$inject=["$http","$q"],function(){angular.module("applemint",[]),angular.module("applemint").controller("MainCtrl",MainCtrl).factory("DataService",DataService)}();